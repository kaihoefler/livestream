(function(t){function e(e){for(var i,n,o=e[0],c=e[1],l=e[2],h=0,u=[];h<o.length;h++)n=o[h],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},a={app:0},r=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/livestream/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0b27":function(t,e,s){"use strict";s("a217")},2043:function(t,e,s){"use strict";s("dcd6")},2062:function(t,e,s){},2163:function(t,e,s){},5038:function(t,e,s){},5122:function(t,e,s){},"52ea":function(t,e,s){"use strict";s("e2ae")},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],n={name:"livestream",methods:{handleStyles(){["/"].includes(this.$route.path)&&(document.body.className="controllerstyle")},handleQueryParams(){var t,e=[];if(-1!==window.location.href.indexOf("?")){for(var s=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<s.length;i++)t=s[i].split("="),e[t[0]]=t[1];"refSpeed"in e&&void 0!==e.refSpeed&&(this.$store.state.displayControl.timeRace.showRefSpeed=!0,this.$store.state.displayControl.timeRace.refSpeed=parseFloat(e.refSpeed))}}},mounted(){this.handleStyles(),this.handleQueryParams(),s("5038")},watch:{$route(){this.handleStyles()}}},o=n,c=(s("734a"),s("2877")),l=Object(c["a"])(o,a,r,!1,null,null,null),d=l.exports,h=s("8c4f"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"visualization"},[e("TimeRace"),e("flip-countdown",{attrs:{deadline:t.flipCountdownDeadline,showDays:!1}}),e("Ticker"),e("PointsRace")],1)},p=[],m=function(){var t=this,e=t._self._c;return t.displayControl.show?e("div",{staticClass:"hello"},[t.displayControl.showRaceName?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.raceName},attrs:{id:"raceName"}},[t._v(t._s(t.currentRace.raceName)+"  ")]):t._e(),"GREEN"==t.currentRace.flagStatus&&t.displayControl.showRaceTime?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.laps},attrs:{id:"zeit"}},[t._v(t._s(t.currentRace.elapsedTime))]):t._e(),"GREEN"==t.currentRace.flagStatus&&t.displayControl.showLaps?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.laps},attrs:{id:"laps"}},[t._v("Lap "+t._s(t.currentRace.lapsComplete))]):t._e(),"GREEN"==t.currentRace.flagStatus&&t.displayControl.showSpeed?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.laps},attrs:{id:"speed"}},[t._v("Avg. Speed "+t._s(t.speed.text)+" "),t.displayControl.showRefSpeed?e("span",{class:[t.speed.value-t.displayControl.refSpeed<0?"negativDelta":"positivDelta"]},[t._v("( "+t._s((t.speed.value-t.displayControl.refSpeed).toFixed(3))+" )")]):t._e()]):t._e(),"GREEN"==t.currentRace.flagStatus&&t.displayControl.showLapTimes?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.results},attrs:{id:"laptimes"}},[e("table",[t._m(0),t._l(t.laptimes,(function(s){return e("tr",{key:s.lap},[e("td",[t._v(t._s(s.lap.toString()))]),e("td",[t._v(t._s(s.time.toFixed(2)))]),e("td",[t._v(t._s((t.lapDist/s.time*3600).toFixed(2)))])])}))],2)]):t._e(),"GREEN"==t.currentRace.flagStatus&&t.displayControl.showBestLapTimes?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.results},attrs:{id:"bestlaps"}},[e("table",[t._m(1),t._l(t.bestLapResult,(function(s){return e("tr",{key:s.number},[e("td",{class:{redtext:s.hasMaxTotalTime}},[t._v(t._s(s.position.toString()))]),e("td",{class:{redtext:s.hasMaxTotalTime}},[t._v(t._s(s.firstName.slice(0,1))+". "+t._s(s.lastName))]),e("td",{class:{redtext:s.hasMaxTotalTime}},[t._v(t._s(s.result))])])}))],2)]):t._e(),"FINISH"==t.currentRace.flagStatus&&t.displayControl.showResults?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.results},attrs:{id:"results"}},[e("table",[t._m(2),t._m(3),t._l(t.pagedResult,(function(s){return e("tr",{key:s.number},[e("td",[t._v(t._s(s.position.toString()))]),e("td",[t._v(t._s(s.firstName)+" "+t._s(s.lastName))]),e("td",[t._v(t._s(s.result))])])}))],2)]):t._e(),"PURPLE"==t.currentRace.flagStatus&&t.displayControl.showStartlist?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG.results},attrs:{id:"startlist"}},[e("table",[t._m(4),t._m(5),t._l(t.pagedStartlist,(function(s){return e("tr",{key:s.number},[e("td",[t._v(t._s(s.number.toString()))]),e("td",[t._v(t._s(s.firstName)+" "+t._s(s.lastName))])])}))],2)]):t._e()]):t._e()},g=[function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{width:"60"}},[t._v("Lap")]),e("th",{attrs:{width:"100"}},[t._v("Time")]),e("th",{attrs:{width:"100"}},[t._v("Speed")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Pos.")]),e("th",{attrs:{width:"180"}},[t._v("Name")]),e("th",[t._v("Time")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("Results")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Place")]),e("th",{attrs:{width:"550"}},[t._v("Name")]),e("th",{attrs:{width:"100"}},[t._v("Time")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"2"}},[t._v("Startlist")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{width:"100"}},[t._v("No.")]),e("th",{attrs:{width:"600"}},[t._v("Name")])])}];function v(t){var e=t.split(":");e=e.reverse();var s=0;return 0 in e&&(s+=parseFloat(e[0])),1 in e&&(s+=60*parseInt(e[1])),2 in e&&(s+=3600*parseInt(e[2])),s}var y={name:"TimeRace",props:{msg:String},computed:{currentRace(){return this.$store.state.currentRace},displayControl(){return this.$store.state.displayControl.timeRace},speed(){var t=this.$store.state.currentRace,e=t.competitors[0];if(void 0===e.lapsComplete)return null;var s=v(e.totalTime),i={value:0,text:" - "};return s>0&&(i.value=e.lapsComplete*this.$store.state.settings.lapDistance/s*3600,i.text=i.value.toFixed(3)),i},laptimes(){var t=this.$store.state.displayControl.timeRace.numLapTimes,e=this.$store.state.currentRace.laptimes.slice(-1*t).sort((t,e)=>t.lap<e.lap?1:-1);return e.filter(t=>void 0!==t&&t.time>0)},results(){var t=this.$store.state.currentRace.competitors.slice().filter(t=>void 0!==t&&t.lapsComplete>0);if(t.sort((t,e)=>t.position>e.position?1:-1),this.$store.state.displayControl.timeRace.resultsSortedByBestTime||this.$store.state.displayControl.timeRace.showBestLapTimes){t.sort((t,e)=>t.bestLap>e.bestLap?1:-1);var e=0,s=-1,i=0,a=-1,r=-1;if(t.forEach(t=>{var n=v(t.bestLap);a<v(t.totalTime)&&(a=v(t.totalTime),r=t.number),s<n&&(e=i+1),t.position=e,i+=1,s=n,t.result=n.toFixed(3)}),r>0){var n=t.find(t=>t.number===r);n&&(n.hasMaxTotalTime=!0)}}else t.forEach(t=>{void 0!==t&&(t.result=t.totalTime)});return t},lapDist(){return this.$store.state.settings.lapDistance},pagedResult(){var t=this.displayControl.numLapTimes,e=this.results,s=Math.ceil(e.length/t),i=Math.trunc((this.now-this.pagingStartTime)/10%s);return e.slice(i*t,(i+1)*t)},pagedStartlist(){var t=this.displayControl.numLapTimes,e=this.$store.state.currentRace.startlist.slice().filter(t=>void 0!==t);e.sort((t,e)=>t.position>e.position?1:-1);var s=Math.ceil(e.length/t),i=Math.trunc((this.now-this.pagingStartTime)/10%s);return e.slice(i*t,(i+1)*t)},bestLapResult(){var t=parseInt(this.displayControl.numLapTimes),e=this.results,s=e.findIndex(t=>!0===t.hasMaxTotalTime),i=0;return s>=0&&(i=Math.trunc(Math.max(0,s-t/2))),e.slice(i,i+t)}},data:function(){return{showRaceName:!0,showLapTimes:!1,showBestLapTimes:!1,showRaceTime:!0,showLaps:!0,showSpeed:!0,showRefSpeed:!1,now:Math.trunc((new Date).getTime()/1e3),pagingStartTime:Math.trunc((new Date).getTime()/1e3),interval:null}},created(){this.interval=setInterval(()=>{this.now=Math.trunc((new Date).getTime()/1e3)},1e3),console.log("TimeRace Created")}},f=y,w=(s("8620"),Object(c["a"])(f,m,g,!1,null,"3743c3c6",null)),R=w.exports,S=function(){var t=this,e=t._self._c;return t.displayControl.show?e("div",{staticClass:"hello"},[t.currentPointsRace.isPoints&&t.displayControl.showPoints&&t.points.length>0?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG},attrs:{id:"points"}},[e("table",[t._m(0),t._m(1),t._l(t.points,(function(s){return e("tr",{key:s.Place},[e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(s.Startnumber.toString()))]),e("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(s.FirstName.toString().substring(0,1))+". "+t._s(s.LastName.toString()))]),e("td",[t._v(t._s(s.Points.toString()))])])}))],2)]):t._e(),t.currentPointsRace.isElimination&&t.displayControl.showElims&&t.elims.length>0?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG},attrs:{id:"elims"}},[e("table",[t._m(2),t._m(3),t._l(t.elims,(function(s){return e("tr",{key:s.Startnumber,class:{elim:s.isLatestElimination}},[e("td",{staticStyle:{"text-align":"center"},attrs:{width:"50"}},[t._v(t._s(s.Startnumber.toString()))]),e("td",{staticStyle:{"text-align":"left"},attrs:{width:"180"}},[t._v(t._s(s.FirstName.toString().substring(0,1))+". "+t._s(s.LastName.toString()))])])}))],2)]):t._e(),t.displayControl.showResults&&t.currentPointsRace.isPoints?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG},attrs:{id:"results"}},[e("table",[t._m(4),t._m(5),t._l(t.pagedResult,(function(s){return e("tr",{key:s.Startnumber},[e("td",[t._v(t._s(s.Place.toString()))]),e("td",[t._v(t._s(s.FirstName)+" "+t._s(s.LastName))]),e("td",[null!==s.Points&&s.Points>0?e("div",[t._v(t._s(s.Points))]):t._e(),s.Eliminated>0?e("div",{staticClass:"elim"},[t._v("elim.")]):t._e()])])}))],2)]):t._e(),t.displayControl.showResults&&t.currentPointsRace.isElimination&&!t.currentPointsRace.isPoints?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG},attrs:{id:"results"}},[e("table",[t._m(6),t._m(7),t._l(t.pagedResult,(function(s){return e("tr",{key:s.Startnumber},[e("td",[t._v(t._s(s.Place.toString()))]),e("td",[t._v(t._s(s.FirstName)+" "+t._s(s.LastName))]),e("td",[s.Eliminated>0?e("div",{staticClass:"elim"},[t._v("elim.")]):t._e()])])}))],2)]):t._e()]):t._e()},_=[function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("Points")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("No.")]),e("th",{attrs:{width:"200"}},[t._v("Name")]),e("th",[t._v("Pts")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"2"}},[t._v("Eliminations")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{width:"50"}},[t._v("No.")]),e("th",{attrs:{width:"200"}},[t._v("Name")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("Results")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Pos.")]),e("th",{attrs:{width:"600"}},[t._v("Name")]),e("th",[t._v("Pts.")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("Results")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Pos.")]),e("th",{attrs:{width:"600"}},[t._v("Name")]),e("th",{attrs:{width:"100"}})])}],b={name:"PointsRace",props:{msg:String},computed:{currentPointsRace(){return this.$store.state.currentPointsRace},displayControl(){return this.$store.state.displayControl.pointsRace},points(){var t=[];return this.$store.state.currentPointsRace.PointResults&&(t=this.$store.state.currentPointsRace.PointResults.slice()),t.slice(0,this.$store.state.displayControl.pointsRace.numElimsToShow+1).filter(t=>void 0!==t&&null!==t.Points&&t.Points>0)},elims(){var t=[],e=-1;return this.$store.state.currentPointsRace.Eliminations&&(t=this.$store.state.currentPointsRace.Eliminations.slice()),t.forEach(t=>{e<t.EliminationNr&&(e=t.EliminationNr)}),e>0&&t.forEach(t=>{e===t.EliminationNr&&(t.isLatestElimination=!0)}),t.slice(0,parseInt(this.$store.state.displayControl.pointsRace.numElimsToShow)+1)},results(){if(this.$store.state.currentPointsRace.isPoints){var t=[];return this.$store.state.currentPointsRace.PointResults&&(t=this.$store.state.currentPointsRace.PointResults.slice(),t.filter(t=>void 0!==t&&t.FinishOrder>=999&&0===t.Eliminated)),t}if(this.$store.state.currentPointsRace.isElimination){var e=[];return this.$store.state.currentPointsRace.EliminationResults&&this.$store.state.currentPointsRace.EliminationResults.length>0&&(e=this.$store.state.currentPointsRace.EliminationResults.slice()),e}return[]},pagedResult(){var t=parseInt(this.$store.state.displayControl.pointsRace.numElimsToShow),e=this.results,s=Math.ceil(e.length/t),i=Math.trunc((this.now-this.pagingStartTime)/10%s);return e.slice(i*t,(i+1)*t)}},data:function(){return{showPoints:!0,showElims:!0,styleWhiteBG:!1,numElimsToShow:15,showResults:!1,pausePointsUpdate:!1,now:Math.trunc((new Date).getTime()/1e3),pagingStartTime:Math.trunc((new Date).getTime()/1e3),interval:null}},created(){this.interval=setInterval(()=>{this.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},C=b,T=(s("814c"),Object(c["a"])(C,S,_,!1,null,"a579db02",null)),P=T.exports,k=function(){var t=this,e=t._self._c;return t.displayControl.show?e("div",{staticClass:"container flip-clock"},[t._l(t.timeData,(function(s){return[e("span",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"data.show"}],key:s.label,staticClass:"flip-clock__piece",attrs:{id:s.elementId}},[e("span",{staticClass:"flip-clock__card flip-card"},[e("b",{staticClass:"flip-card__top"},[t._v(t._s(t._f("twoDigits")(s.current)))]),e("b",{staticClass:"flip-card__bottom",attrs:{"data-value":t._f("twoDigits")(s.current)}}),e("b",{staticClass:"flip-card__back",attrs:{"data-value":t._f("twoDigits")(s.previous)}}),e("b",{staticClass:"flip-card__back-bottom",attrs:{"data-value":t._f("twoDigits")(s.previous)}})]),t.displayControl.showLabel?e("span",{staticClass:"flip-clock__slot"},[t._v(t._s(s.label))]):t._e()])]})),e("br"),t.displayControl.showSubText?e("span",{staticClass:"flip-clock__subtext"},[t._v(t._s(t.displayControl.subText))]):t._e()],2):t._e()},x=[],D=(s("d9e2"),null);const $=s("c64e");var A={name:"flipCountdown",props:{deadline:{type:String},stop:{type:Boolean},showDays:{type:Boolean,required:!1,default:!0},labels:{type:Object,required:!1,default:function(){return{days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"}}}},data(){const t=$();return{now:Math.trunc((new Date).getTime()/1e3),date:null,interval:null,diff:0,show:!1,timeData:[{current:0,previous:0,label:this.labels.days,elementId:"flip-card-days-"+t,show:this.showDays},{current:0,previous:0,label:this.labels.hours,elementId:"flip-card-hours-"+t,show:!0},{current:0,previous:0,label:this.labels.minutes,elementId:"flip-card-minutes-"+t,show:!0},{current:0,previous:0,label:this.labels.seconds,elementId:"flip-card-seconds-"+t,show:!0}]}},created(){if(!this.deadline)throw new Error("Missing props 'deadline'");const t=this.deadline;if(this.date=Math.trunc(Date.parse(t.replace(/-/g,"/"))/1e3),!this.date)throw new Error("Invalid props value, correct the 'deadline'");this.interval=setInterval(()=>{this.now=Math.trunc((new Date).getTime()/1e3)},1e3)},mounted(){0!==this.diff&&(this.show=!0)},computed:{displayControl(){return this.$store.state.displayControl.countdown},storedDeadline(){return this.$store.state.displayControl.countdown.deadline},seconds(){return Math.trunc(this.diff)%60},minutes(){return Math.trunc(this.diff/60)%60},hours(){return Math.trunc(this.diff/60/60)%24},days(){return Math.trunc(this.diff/60/60/24)}},watch:{deadline:function(t,e){const s=this.deadline;if(this.date=Math.trunc(Date.parse(s.replace(/-/g,"/"))/1e3),!this.date)throw new Error("Invalid props value, correct the 'deadline': "+this.deadline)},now(t){this.diff=this.date-this.now,this.diff<=0||this.stop?(this.diff=0,this.updateTime(3,0)):(this.updateTime(0,this.days),this.updateTime(1,this.hours),this.updateTime(2,this.minutes),this.updateTime(3,this.seconds))}},filters:{twoDigits(t){return t.toString().length<=1?"0"+t.toString():t.toString()}},methods:{updateTime(t,e){if(t>=this.timeData.length||void 0===e)return;window.requestAnimationFrame&&(this.frame=requestAnimationFrame(this.updateTime.bind(this)));const s=this.timeData[t],i=e<0?0:e,a=document.querySelector("#"+s.elementId);if(i!==s.current&&(s.previous=s.current,s.current=i,a&&(a.classList.remove("flip"),a.offsetWidth,a.classList.add("flip")),0===t)){const t=a.querySelectorAll("span b");if(t)for(var r of t){const t=r.classList[0];if(e/1e3>=1){if(!t.includes("-4digits")){const e=t+"-4digits";r.classList.add(e),r.classList.remove(t)}}else if(t.includes("-4digits")){const e=t.replace("-4digits","");r.classList.add(e),r.classList.remove(t)}}}}},beforeDestroy(){window.cancelAnimationFrame&&cancelAnimationFrame(this.frame)},destroyed(){clearInterval(D)}},N=A,L=(s("0b27"),Object(c["a"])(N,k,x,!1,null,"765a9932",null)),B=L.exports,W=function(){var t=this,e=t._self._c;return t.displayControl.show?e("div",{class:{whiteBG:t.displayControl.styleWhiteBG},attrs:{id:"ticker"}},[e("div",{class:{marquee:t.displayControl.laufschrift},attrs:{id:"marquee"}},[e("span",[e("div",{attrs:{id:"line1"}},[t._v(t._s(t.displayControl.line1)+"  ")]),e("div",{attrs:{id:"line2"}},[t._v(t._s(t.displayControl.line2))])])])]):t._e()},G=[],I={name:"Ticker",props:{msg:String},computed:{displayControl(){return this.$store.state.displayControl.ticker}},data:function(){return{nothing:!0}}},O=I,E=(s("6dcb"),Object(c["a"])(O,W,G,!1,null,"143efd79",null)),j=E.exports,U={name:"Visualization",components:{TimeRace:R,FlipCountdown:B,Ticker:j,PointsRace:P},computed:{flipCountdownDeadline(){return this.$store.state.displayControl.countdown.targetTime}},mounted(){this.$nextTick((function(){window.setInterval(()=>{this.$store.dispatch("updateRace")},this.$store.state.settings.updateInterval)})),window.addEventListener("storage",t=>{["store.settings","store.displayControl.timeRace","store.displayControl.pointsRace","store.displayControl.countdown","store.displayControl.ticker"].includes(t.key)?(this.$store.commit("loadStoreFromStorage"),console.log("New Change in localStorage: for "+t.key)):console.log("Unknown storage Event with event key: "+t.key)})}},F=U,M=(s("8193"),Object(c["a"])(F,u,p,!1,null,"754a7939",null)),J=M.exports,z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"controller"},[e("div",{staticClass:"nav"},[e("router-link",{attrs:{to:"/vis",target:"_blank"}},[t._v(" Open Visualization Page")])],1),e("h1",[t._v("This is the Livestream controller ")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-quarter"},[e("Settings"),t._v(" "),e("br"),e("CountdownSettings"),t._v(" "),e("br"),e("TickerSettings")],1),e("div",{staticClass:"column is-one-quarter"},[e("TimeRaceSettings"),e("br"),e("PointsRaceSettings")],1),e("div",{staticClass:"column"},[e("Preview"),e("br"),e("Presets")],1)])])},q=[],V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card is-info"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("URL of Race Timing Service (Leaderboard)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.urlRaceService,expression:"settings.urlRaceService"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.settings.urlRaceService},on:{input:function(e){e.target.composing||t.$set(t.settings,"urlRaceService",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Race Service Update Interval (ms)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.updateInterval,expression:"settings.updateInterval"}],staticClass:"input",attrs:{type:"number"},domProps:{value:t.settings.updateInterval},on:{input:function(e){e.target.composing||t.$set(t.settings,"updateInterval",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("URL of Points Service (Punkterennen)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.urlPointsService,expression:"settings.urlPointsService"}],staticClass:"input",class:{"is-danger":t.settings.pausePointsRaceUpdate},attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.settings.urlPointsService},on:{input:function(e){e.target.composing||t.$set(t.settings,"urlPointsService",e.target.value)}}}),e("p",{staticClass:"help is-danger",class:{"is-hidden":!t.settings.pausePointsRaceUpdate}},[t._v("The update is currently paused")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.pausePointsRaceUpdate,expression:"settings.pausePointsRaceUpdate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.pausePointsRaceUpdate)?t._i(t.settings.pausePointsRaceUpdate,null)>-1:t.settings.pausePointsRaceUpdate},on:{change:function(e){var s=t.settings.pausePointsRaceUpdate,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"pausePointsRaceUpdate",s.concat([r])):n>-1&&t.$set(t.settings,"pausePointsRaceUpdate",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"pausePointsRaceUpdate",a)}}}),t._v(" Pause update of Points Race")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Lap Distance (km)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.lapDistance,expression:"settings.lapDistance"}],staticClass:"input",attrs:{type:"number",step:"any",min:"0",max:"100"},domProps:{value:t.settings.lapDistance},on:{input:function(e){e.target.composing||t.$set(t.settings,"lapDistance",e.target.value)}}})])]),e("footer",{staticClass:"card-footer"},[e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:t.saveSettings}},[t._v("Save Settings")]),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.restoreSettings}},[t._v("Restore Settings")])])])},H=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title"},[t._v(" Global Settings ")])])}],Q={name:"Settings",props:{msg:String},computed:{storeSettings(){return this.$store.state.settings},urlRaceService:{get(){return this.$store.state.settings.urlRaceService},set(t){this.$store.commit("updateUrlRaceservice",t)}}},data:function(){return{settings:{urlRaceService:"",updateInterval:0,lapDistance:0,pausePointsRaceUpdate:!1},isDirty:!1}},watch:{settings:{handler(t,e){this.isDirty=!0},deep:!0}},methods:{saveSettings(){this.$store.commit("setSettings",this.settings),this.isDirty=!1},restoreSettings(){Object.assign(this.settings,this.$store.state.settings),this.isDirty=!1}},beforeMount(){Object.assign(this.settings,this.$store.state.settings),this.isDirty=!1}},K=Q,X=Object(c["a"])(K,V,H,!1,null,"7f248758",null),Y=X.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox",staticStyle:{}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.show,expression:"settings.show"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.show)?t._i(t.settings.show,null)>-1:t.settings.show},on:{change:function(e){var s=t.settings.show,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"show",s.concat([r])):n>-1&&t.$set(t.settings,"show",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"show",a)}}}),t._v(" Show time race visualization")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showRaceName,expression:"settings.showRaceName"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showRaceName)?t._i(t.settings.showRaceName,null)>-1:t.settings.showRaceName},on:{change:function(e){var s=t.settings.showRaceName,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showRaceName",s.concat([r])):n>-1&&t.$set(t.settings,"showRaceName",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showRaceName",a)}}}),t._v(" Show race name")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showRaceTime,expression:"settings.showRaceTime"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showRaceTime)?t._i(t.settings.showRaceTime,null)>-1:t.settings.showRaceTime},on:{change:function(e){var s=t.settings.showRaceTime,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showRaceTime",s.concat([r])):n>-1&&t.$set(t.settings,"showRaceTime",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showRaceTime",a)}}}),t._v(" Show race time")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showLaps,expression:"settings.showLaps"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showLaps)?t._i(t.settings.showLaps,null)>-1:t.settings.showLaps},on:{change:function(e){var s=t.settings.showLaps,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showLaps",s.concat([r])):n>-1&&t.$set(t.settings,"showLaps",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showLaps",a)}}}),t._v(" Show lap counter")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showLapTimes,expression:"settings.showLapTimes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showLapTimes)?t._i(t.settings.showLapTimes,null)>-1:t.settings.showLapTimes},on:{change:function(e){var s=t.settings.showLapTimes,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showLapTimes",s.concat([r])):n>-1&&t.$set(t.settings,"showLapTimes",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showLapTimes",a)}}}),t._v(" Show lap time list")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showBestLapTimes,expression:"settings.showBestLapTimes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showBestLapTimes)?t._i(t.settings.showBestLapTimes,null)>-1:t.settings.showBestLapTimes},on:{change:function(e){var s=t.settings.showBestLapTimes,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showBestLapTimes",s.concat([r])):n>-1&&t.$set(t.settings,"showBestLapTimes",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showBestLapTimes",a)}}}),t._v(" Show best lap times (Dobbin)")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showStartlist,expression:"settings.showStartlist"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showStartlist)?t._i(t.settings.showStartlist,null)>-1:t.settings.showStartlist},on:{change:function(e){var s=t.settings.showStartlist,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showStartlist",s.concat([r])):n>-1&&t.$set(t.settings,"showStartlist",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showStartlist",a)}}}),t._v(" Show Startlist (bevore Race)")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showResults,expression:"settings.showResults"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showResults)?t._i(t.settings.showResults,null)>-1:t.settings.showResults},on:{change:function(e){var s=t.settings.showResults,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showResults",s.concat([r])):n>-1&&t.$set(t.settings,"showResults",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showResults",a)}}}),t._v(" Show Results (after Finish)")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.resultsSortedByBestTime,expression:"settings.resultsSortedByBestTime"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.resultsSortedByBestTime)?t._i(t.settings.resultsSortedByBestTime,null)>-1:t.settings.resultsSortedByBestTime},on:{change:function(e){var s=t.settings.resultsSortedByBestTime,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"resultsSortedByBestTime",s.concat([r])):n>-1&&t.$set(t.settings,"resultsSortedByBestTime",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"resultsSortedByBestTime",a)}}}),t._v(" Sort Results by best Lap")])]),e("div",{staticClass:"field"},[t._m(1),e("p",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.styleWhiteBG.raceName,expression:"settings.styleWhiteBG.raceName"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.styleWhiteBG.raceName)?t._i(t.settings.styleWhiteBG.raceName,null)>-1:t.settings.styleWhiteBG.raceName},on:{change:function(e){var s=t.settings.styleWhiteBG.raceName,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings.styleWhiteBG,"raceName",s.concat([r])):n>-1&&t.$set(t.settings.styleWhiteBG,"raceName",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings.styleWhiteBG,"raceName",a)}}}),t._v(" Race Name")])]),e("p",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.styleWhiteBG.laps,expression:"settings.styleWhiteBG.laps"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.styleWhiteBG.laps)?t._i(t.settings.styleWhiteBG.laps,null)>-1:t.settings.styleWhiteBG.laps},on:{change:function(e){var s=t.settings.styleWhiteBG.laps,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings.styleWhiteBG,"laps",s.concat([r])):n>-1&&t.$set(t.settings.styleWhiteBG,"laps",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings.styleWhiteBG,"laps",a)}}}),t._v(" Laps Counter/Time")])]),e("p",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.styleWhiteBG.results,expression:"settings.styleWhiteBG.results"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.styleWhiteBG.results)?t._i(t.settings.styleWhiteBG.results,null)>-1:t.settings.styleWhiteBG.results},on:{change:function(e){var s=t.settings.styleWhiteBG.results,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings.styleWhiteBG,"results",s.concat([r])):n>-1&&t.$set(t.settings.styleWhiteBG,"results",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings.styleWhiteBG,"results",a)}}}),t._v(" Results")])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showSpeed,expression:"settings.showSpeed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showSpeed)?t._i(t.settings.showSpeed,null)>-1:t.settings.showSpeed},on:{change:function(e){var s=t.settings.showSpeed,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showSpeed",s.concat([r])):n>-1&&t.$set(t.settings,"showSpeed",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showSpeed",a)}}}),t._v(" Show avg. speed")])]),e("div",{class:{"is-hidden":!t.settings.showSpeed}},[e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showRefSpeed,expression:"settings.showRefSpeed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showRefSpeed)?t._i(t.settings.showRefSpeed,null)>-1:t.settings.showRefSpeed},on:{change:function(e){var s=t.settings.showRefSpeed,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showRefSpeed",s.concat([r])):n>-1&&t.$set(t.settings,"showRefSpeed",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showRefSpeed",a)}}}),t._v(" Show diff to reference speed")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Reference Speed")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.refSpeed,expression:"settings.refSpeed"}],staticClass:"input",attrs:{type:"number",step:"any",min:"0",max:"100"},domProps:{value:t.settings.refSpeed},on:{input:function(e){e.target.composing||t.$set(t.settings,"refSpeed",e.target.value)}}})])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Num. of lines to show")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.numLapTimes,expression:"settings.numLapTimes"}],staticClass:"input",attrs:{type:"number",step:"1",min:"1",max:"20"},domProps:{value:t.settings.numLapTimes},on:{input:function(e){e.target.composing||t.$set(t.settings,"numLapTimes",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.pauseRaceUpdate,expression:"settings.pauseRaceUpdate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.pauseRaceUpdate)?t._i(t.settings.pauseRaceUpdate,null)>-1:t.settings.pauseRaceUpdate},on:{change:function(e){var s=t.settings.pauseRaceUpdate,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"pauseRaceUpdate",s.concat([r])):n>-1&&t.$set(t.settings,"pauseRaceUpdate",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"pauseRaceUpdate",a)}}}),e("span",{class:{"has-text-danger has-text-weight-semibold":t.settings.pauseRaceUpdate}},[t._v(" Pause Race Update")])])])]),e("footer",{staticClass:"card-footer"},[e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:t.activateSettings}},[t._v("Activate Settings")]),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.restoreSettings}},[t._v("Restore Settings")])])])},tt=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title is-info"},[t._v(" Time Race Settings ")])])},function(){var t=this,e=t._self._c;return e("p",[e("label",{staticClass:"checkbox"},[t._v(" Solid Background style")])])}],et={name:"TimeRaceSettings",props:{msg:String},data:function(){return{settings:{show:!0,showRefSpeed:!1,refSpeed:0,showRaceName:!0,showLapTimes:!0,showBestLapTimes:!1,showRaceTime:!0,showLaps:!0,showSpeed:!0,styleWhiteBG:{raceName:!1,laps:!1,results:!1},numLapTimes:5,showStartlist:!1,showResults:!1,resultsSortedByBestTime:!1,pauseRaceUpdate:!1},isDirty:!1}},computed:{dataToWriteToForm(){return this.$store.state.presets.dataToWriteToTimeRaceController}},watch:{settings:{handler(t,e){this.isDirty=!0,this.$store.commit("setDisplayControlTimeRaceFormData",this.settings)},deep:!0},dataToWriteToForm:{handler(t,e){(t.activateTimeRaceData||t.loadTimeRaceData)&&t.timeRaceData&&Object.assign(this.settings,t.timeRaceData),t.activateTimeRaceData&&this.activateSettings(),this.$store.commit("resetTimeRaceDataToWrite",null)},deep:!0}},methods:{activateSettings(){this.$store.commit("setDisplayControlTimeRace",this.settings),this.isDirty=!1},restoreSettings(){Object.assign(this.settings,this.$store.state.displayControl.timeRace),this.$store.commit("setDisplayControlTimeRaceFormData",this.settings),this.isDirty=!1}},beforeMount(){Object.assign(this.settings,this.$store.state.displayControl.timeRace),this.$store.commit("setDisplayControlTimeRaceFormData",this.settings),this.isDirty=!1}},st=et,it=Object(c["a"])(st,Z,tt,!1,null,"12971279",null),at=it.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox",staticStyle:{}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.show,expression:"settings.show"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.show)?t._i(t.settings.show,null)>-1:t.settings.show},on:{change:function(e){var s=t.settings.show,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"show",s.concat([r])):n>-1&&t.$set(t.settings,"show",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"show",a)}}}),t._v(" Show Countdown")])]),e("div",{class:{"is-hidden":!t.settings.show}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Target Time")]),e("div",{staticClass:"field is-horizontal has-addons"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.targetTime,expression:"settings.targetTime"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.targetTime},on:{input:function(e){e.target.composing||t.$set(t.settings,"targetTime",e.target.value)}}}),e("button",{staticClass:"button",on:{click:t.setTargetTimeToday}},[t._v("Set to Today")])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showLabel,expression:"settings.showLabel"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showLabel)?t._i(t.settings.showLabel,null)>-1:t.settings.showLabel},on:{change:function(e){var s=t.settings.showLabel,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showLabel",s.concat([r])):n>-1&&t.$set(t.settings,"showLabel",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showLabel",a)}}}),t._v(" Show Label")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showSubText,expression:"settings.showSubText"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showSubText)?t._i(t.settings.showSubText,null)>-1:t.settings.showSubText},on:{change:function(e){var s=t.settings.showSubText,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showSubText",s.concat([r])):n>-1&&t.$set(t.settings,"showSubText",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showSubText",a)}}}),t._v(" Show Sub Text")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Sub Text Line")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.subText,expression:"settings.subText"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter Text here"},domProps:{value:t.settings.subText},on:{input:function(e){e.target.composing||t.$set(t.settings,"subText",e.target.value)}}})])])]),e("footer",{staticClass:"card-footer"},[e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:t.saveSettings}},[t._v("Save Settings")]),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.restoreSettings}},[t._v("Restore Settings")])])])},nt=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title is-info"},[t._v(" Countdown Settings ")])])}],ot={name:"TimeRaceSettings",props:{msg:String},computed:{storeSettings(){return this.$store.state.displayControl.countdown}},data:function(){return{settings:{show:!0,targetTime:(new Date).toISOString().split("T")[0]+" 23:59",showLabel:!0,showSubText:!1,subText:""},isDirty:!1}},watch:{settings:{handler(t,e){this.isDirty=!0},deep:!0}},methods:{saveSettings(){this.$store.commit("setDisplayControlCountdown",this.settings),this.isDirty=!1},restoreSettings(){Object.assign(this.settings,this.$store.state.displayControl.countdown),this.isDirty=!1},setTargetTimeToday(){this.settings.targetTime=(new Date).toISOString().split("T")[0]+" 23:59"}},beforeMount(){Object.assign(this.settings,this.$store.state.displayControl.countdown),this.isDirty=!1}},ct=ot,lt=Object(c["a"])(ct,rt,nt,!1,null,"0df980f8",null),dt=lt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox",staticStyle:{}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.show,expression:"settings.show"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.show)?t._i(t.settings.show,null)>-1:t.settings.show},on:{change:function(e){var s=t.settings.show,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"show",s.concat([r])):n>-1&&t.$set(t.settings,"show",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"show",a)}}}),t._v(" Show Ticker visualization")])]),e("div",{class:{"is-hidden":!t.settings.show}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Text Line 1")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.line1,expression:"settings.line1"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter Text here"},domProps:{value:t.settings.line1},on:{input:function(e){e.target.composing||t.$set(t.settings,"line1",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Text Line 2")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.line2,expression:"settings.line2"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter Text here"},domProps:{value:t.settings.line2},on:{input:function(e){e.target.composing||t.$set(t.settings,"line2",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.styleWhiteBG,expression:"settings.styleWhiteBG"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.styleWhiteBG)?t._i(t.settings.styleWhiteBG,null)>-1:t.settings.styleWhiteBG},on:{change:function(e){var s=t.settings.styleWhiteBG,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"styleWhiteBG",s.concat([r])):n>-1&&t.$set(t.settings,"styleWhiteBG",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"styleWhiteBG",a)}}}),t._v(" Activate White Background style")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.laufschrift,expression:"settings.laufschrift"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.laufschrift)?t._i(t.settings.laufschrift,null)>-1:t.settings.laufschrift},on:{change:function(e){var s=t.settings.laufschrift,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"laufschrift",s.concat([r])):n>-1&&t.$set(t.settings,"laufschrift",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"laufschrift",a)}}}),t._v(" Activate Marquee (Laufschrift)")])])])]),e("footer",{staticClass:"card-footer"},[e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:t.activateSettings}},[t._v("Activate Settings")]),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.restoreSettings}},[t._v("Restore Settings")])])])},ut=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title is-info"},[t._v(" Ticker Settings ")])])}],pt={name:"TickerSettings",props:{msg:String},computed:{storeSettings(){return this.$store.state.displayControl.ticker}},data:function(){return{settings:{show:!0,line1:"",line2:"",styleWhiteBG:!1,laufschrift:!1},isDirty:!1}},watch:{settings:{handler(t,e){this.isDirty=!0},deep:!0}},methods:{activateSettings(){this.$store.commit("setDisplayControlTicker",this.settings),this.isDirty=!1},restoreSettings(){Object.assign(this.settings,this.$store.state.displayControl.ticker),this.isDirty=!1}},beforeMount(){Object.assign(this.settings,this.$store.state.displayControl.ticker),this.isDirty=!1}},mt=pt,gt=Object(c["a"])(mt,ht,ut,!1,null,"0b408fb4",null),vt=gt.exports,yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox",staticStyle:{}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.show,expression:"settings.show"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.show)?t._i(t.settings.show,null)>-1:t.settings.show},on:{change:function(e){var s=t.settings.show,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"show",s.concat([r])):n>-1&&t.$set(t.settings,"show",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"show",a)}}}),t._v(" Show points/elim race visualization")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showPoints,expression:"settings.showPoints"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showPoints)?t._i(t.settings.showPoints,null)>-1:t.settings.showPoints},on:{change:function(e){var s=t.settings.showPoints,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showPoints",s.concat([r])):n>-1&&t.$set(t.settings,"showPoints",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showPoints",a)}}}),t._v(" Show points")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showElims,expression:"settings.showElims"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showElims)?t._i(t.settings.showElims,null)>-1:t.settings.showElims},on:{change:function(e){var s=t.settings.showElims,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showElims",s.concat([r])):n>-1&&t.$set(t.settings,"showElims",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showElims",a)}}}),t._v(" Show eliminations")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.showResults,expression:"settings.showResults"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.showResults)?t._i(t.settings.showResults,null)>-1:t.settings.showResults},on:{change:function(e){var s=t.settings.showResults,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"showResults",s.concat([r])):n>-1&&t.$set(t.settings,"showResults",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"showResults",a)}}}),t._v(" Show Results")])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Number of points/elims to show")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.numElimsToShow,expression:"settings.numElimsToShow"}],staticClass:"input",attrs:{type:"number",step:"1",min:"1",max:"20"},domProps:{value:t.settings.numElimsToShow},on:{input:function(e){e.target.composing||t.$set(t.settings,"numElimsToShow",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.styleWhiteBG,expression:"settings.styleWhiteBG"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.styleWhiteBG)?t._i(t.settings.styleWhiteBG,null)>-1:t.settings.styleWhiteBG},on:{change:function(e){var s=t.settings.styleWhiteBG,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.settings,"styleWhiteBG",s.concat([r])):n>-1&&t.$set(t.settings,"styleWhiteBG",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.settings,"styleWhiteBG",a)}}}),t._v(" Activate solid background style")])])]),e("footer",{staticClass:"card-footer"},[e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:t.activateSettings}},[t._v("Activate Settings")]),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.restoreSettings}},[t._v("Restore Settings")])])])},ft=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title is-info"},[t._v(" Points / Elim. Race Settings ")])])}],wt={name:"PointsRaceSettings",props:{msg:String},computed:{storeSettings(){return this.$store.state.displayControl.pointsRace},dataToWriteToForm(){return this.$store.state.presets.dataToWriteToPointsRaceController}},data:function(){return{settings:{showPoints:!0,showElims:!0,styleWhiteBG:!1,numElimsToShow:15,showResults:!1,pausePointsUpdate:!1},isDirty:!1}},watch:{settings:{handler(t,e){this.isDirty=!0,this.$store.commit("setDisplayControlPointsRaceFormData",this.settings)},deep:!0},dataToWriteToForm:{handler(t,e){(t.activatePointsRaceData||t.loadPointsRaceData)&&t.pointsRaceData&&Object.assign(this.settings,t.pointsRaceData),t.activatePointsRaceData&&this.activateSettings(),this.$store.commit("resetPointsRaceDataToWrite",null)},deep:!0}},methods:{activateSettings(){this.$store.commit("setDisplayControlPointsRace",this.settings),this.isDirty=!1},restoreSettings(){Object.assign(this.settings,this.$store.state.displayControl.pointsRace),this.isDirty=!1}},beforeMount(){Object.assign(this.settings,this.$store.state.displayControl.pointsRace),this.isDirty=!1}},Rt=wt,St=Object(c["a"])(Rt,yt,ft,!1,null,"224cc4f4",null),_t=St.exports,bt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card is-info"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{attrs:{id:"presets"}},[e("div",{staticClass:"box"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Preset Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presets.currentPreset.name,expression:"presets.currentPreset.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Name of the preset"},domProps:{value:t.presets.currentPreset.name},on:{input:function(e){e.target.composing||t.$set(t.presets.currentPreset,"name",e.target.value)}}})]),e("div",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.presets.currentPreset.hasTimeRaceSettings,expression:"presets.currentPreset.hasTimeRaceSettings"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.presets.currentPreset.hasTimeRaceSettings)?t._i(t.presets.currentPreset.hasTimeRaceSettings,null)>-1:t.presets.currentPreset.hasTimeRaceSettings},on:{change:function(e){var s=t.presets.currentPreset.hasTimeRaceSettings,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.presets.currentPreset,"hasTimeRaceSettings",s.concat([r])):n>-1&&t.$set(t.presets.currentPreset,"hasTimeRaceSettings",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.presets.currentPreset,"hasTimeRaceSettings",a)}}}),t._v(" Use Time Race Settings ")])]),e("div",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.presets.currentPreset.hasPointsRaceSettings,expression:"presets.currentPreset.hasPointsRaceSettings"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.presets.currentPreset.hasPointsRaceSettings)?t._i(t.presets.currentPreset.hasPointsRaceSettings,null)>-1:t.presets.currentPreset.hasPointsRaceSettings},on:{change:function(e){var s=t.presets.currentPreset.hasPointsRaceSettings,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.presets.currentPreset,"hasPointsRaceSettings",s.concat([r])):n>-1&&t.$set(t.presets.currentPreset,"hasPointsRaceSettings",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.presets.currentPreset,"hasPointsRaceSettings",a)}}}),t._v(" Use Point Race Settings ")])]),e("div",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.presets.currentPreset.hasTickerSettings,expression:"presets.currentPreset.hasTickerSettings"}],attrs:{disabled:!0,type:"checkbox"},domProps:{checked:Array.isArray(t.presets.currentPreset.hasTickerSettings)?t._i(t.presets.currentPreset.hasTickerSettings,null)>-1:t.presets.currentPreset.hasTickerSettings},on:{change:function(e){var s=t.presets.currentPreset.hasTickerSettings,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(t.presets.currentPreset,"hasTickerSettings",s.concat([r])):n>-1&&t.$set(t.presets.currentPreset,"hasTickerSettings",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.presets.currentPreset,"hasTickerSettings",a)}}}),t._v(" Use Ticker Settings ")])]),e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:function(e){return t.savePreset(!1)}}},[t._v("Save Preset")]),t._v("  "),e("button",{staticClass:"button is-primary",attrs:{disabled:!t.isDirty},on:{click:function(e){return t.savePreset(!0)}}},[t._v("Save Preset as New")]),t._v("  "),e("button",{staticClass:"button is-secondary",attrs:{disabled:!t.isDirty},on:{click:t.resetForm}},[t._v("Clear")])]),e("table",{staticClass:"table"},[t._m(1),t._l(t.presetList,(function(s,i){return e("tr",{key:s.name,class:{"is-selected":i===t.presets.lastActivatedPreset},attrs:{id:i===t.presets.lastActivatedPreset?"selectedrow":""}},[e("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(s.name))]),e("td",{staticStyle:{"text-align":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.hasTimeRaceSettings,expression:"preset.hasTimeRaceSettings"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(s.hasTimeRaceSettings)?t._i(s.hasTimeRaceSettings,null)>-1:s.hasTimeRaceSettings},on:{change:function(e){var i=s.hasTimeRaceSettings,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(s,"hasTimeRaceSettings",i.concat([n])):o>-1&&t.$set(s,"hasTimeRaceSettings",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(s,"hasTimeRaceSettings",r)}}})]),e("td",{staticStyle:{"text-align":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.hasPointsRaceSettings,expression:"preset.hasPointsRaceSettings"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(s.hasPointsRaceSettings)?t._i(s.hasPointsRaceSettings,null)>-1:s.hasPointsRaceSettings},on:{change:function(e){var i=s.hasPointsRaceSettings,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(s,"hasPointsRaceSettings",i.concat([n])):o>-1&&t.$set(s,"hasPointsRaceSettings",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(s,"hasPointsRaceSettings",r)}}})]),e("td",{staticStyle:{"text-align":"center"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.hasTickerSettings,expression:"preset.hasTickerSettings"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(s.hasTickerSettings)?t._i(s.hasTickerSettings,null)>-1:s.hasTickerSettings},on:{change:function(e){var i=s.hasTickerSettings,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);a.checked?o<0&&t.$set(s,"hasTickerSettings",i.concat([n])):o>-1&&t.$set(s,"hasTickerSettings",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(s,"hasTickerSettings",r)}}})]),e("td",{staticStyle:{"text-align":"left"}},[e("button",{staticClass:"button is-small is-primary",on:{click:function(e){return t.editPreset(i)}}},[t._v("Edit")]),t._v("  "),e("button",{staticClass:"button is-small is-primary",on:{click:function(e){return t.activatePreset(i)}}},[t._v("Activate")]),t._v("  "),e("button",{staticClass:"button is-small is-warning",on:{click:function(e){return t.deletePreset(i)}}},[t._v("Delete")])])])}))],2)])]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"field is-grouped"},[e("button",{staticClass:"button is-primary",on:{click:t.showPresets}},[t._v("Export Preset Data")]),t._v("  "),e("button",{staticClass:"button is-primary",on:{click:t.showImportPresets}},[t._v("Import Preset Data")]),t._v("  "),e("button",{staticClass:"button is-danger is-small",on:{click:t.cleanLocalStore}},[t._v("Clean local Storage")])])])]),e("div",{staticClass:"modal",class:{"is-active":t.showPresetData}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-content"},[e("article",{staticClass:"message is-link"},[e("div",{staticClass:"message-header"},[e("p",[t._v("Copy and save the following json document")]),e("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:t.hidePresets}})]),e("div",{staticClass:"message-body"},[e("pre",[t._v(t._s(t.jsonStoredPresets))])])])]),e("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.hidePresets}})]),e("div",{staticClass:"modal",class:{"is-active":t.showPresetImport}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-content"},[e("article",{staticClass:"message is-link"},[e("div",{staticClass:"message-header"},[e("p",[t._v("Paste the json document")]),e("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:t.hidePresets}})]),e("div",{staticClass:"message-body"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Preset Data")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presetImportData,expression:"presetImportData"}],staticClass:"input",attrs:{type:"textarea",rows:"7",placeholder:"please paste the configuration here"},domProps:{value:t.presetImportData},on:{input:function(e){e.target.composing||(t.presetImportData=e.target.value)}}})]),e("button",{staticClass:"button is-small is-primary",on:{click:t.presetJsonImport}},[t._v("Import")]),t._v("  ")])])]),e("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.hidePresets}})])])},Ct=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title"},[t._v(" Presets ")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Name")]),e("th",[e("abbr",{attrs:{title:"Preset has Time Race Settings"}},[t._v("Time")])]),e("th",[e("abbr",{attrs:{title:"Preset has Points Race Settings"}},[t._v("Points")])]),e("th",[e("abbr",{attrs:{title:"Preset has Ticker Settings"}},[t._v("Ticker")])]),e("th",[t._v("Action")])])}],Tt=(s("14d9"),{name:"Presets",props:{msg:String,activePreset:Number},computed:{storedPresets(){return this.$store.state.presets},jsonStoredPresets(){return JSON.stringify(this.$store.state.presets.presetList)},presetList:{get(){return this.$store.state.presets.presetList},set(t){this.$store.commit("setPresetList",t)}}},data:function(){return{presets:{currentPreset:{name:"",hasTimeRaceSettings:!1,hasPointsRaceSettings:!1,hasTickerSettings:!1,timeRaceSettings:{show:!0,showRefSpeed:!1,refSpeed:0,showRaceName:!0,showLapTimes:!1,showBestLapTimes:!1,numLapTimes:5,showRaceTime:!0,showLaps:!0,showSpeed:!0,styleWhiteBG:{raceName:!1,laps:!1,results:!1},showStartlist:!1,showResults:!1,resultsSortedByBestTime:!1,pauseRaceUpdate:!1},pointRaceSettings:{showPoints:!0,showElims:!0,styleWhiteBG:!1,numElimsToShow:15,showResults:!1,pausePointsUpdate:!1},tickerSettings:{show:!0,line1:"",line2:"",styleWhiteBG:!1,laufschrift:!1}},selectedPreset:-1,lastActivatedPreset:-1,presetList:[]},showPresetData:!1,showPresetImport:!1,presetImportData:"",isDirty:!1}},watch:{"presets.currentPreset":{handler(t,e){""===t.name?this.isDirty=!1:this.isDirty=!0},deep:!0}},methods:{savePreset(t){this.presets.currentPreset.hasTimeRaceSettings&&(this.presets.currentPreset.timeRaceSettings=Object.assign({},this.$store.state.displayControl.timeRaceFormData)),this.presets.currentPreset.hasPointsRaceSettings&&(this.presets.currentPreset.pointsRaceSettings=Object.assign({},this.$store.state.displayControl.pointsRaceFormData));const e=Object.assign({},this.presets.currentPreset);this.presets.selectedPreset>=0&&!1===t?this.presetList[this.presets.selectedPreset]=e:this.presetList.push(e),this.presetList.sort((function(t,e){var s=t.name.toUpperCase(),i=e.name.toUpperCase();return s<i?-1:s>i?1:0})),this.resetForm(),this.$store.commit("persistPresetList")},resetForm(){this.presets.selectedPreset=-1,this.presets.currentPreset.name="",this.presets.currentPreset.hasTimeRaceSettings=!1,this.presets.currentPreset.timeRaceSettings=null,this.presets.currentPreset.hasPointsRaceSettings=!1,this.presets.currentPreset.hasTickerSettings=!1,this.isDirty=!1},editPreset(t){const e=this.presetList[t];this.presets.currentPreset=Object.assign({},e),this.presets.selectedPreset=t,e.hasTimeRaceSettings&&this.$store.commit("setTimeRaceDataToWrite",{activateTimeRaceData:!1,loadTimeRaceData:!0,timeRaceData:Object.assign({},e.timeRaceSettings)}),e.hasPointsRaceSettings&&this.$store.commit("setPointsRaceDataToWrite",{activatePointsRaceData:!1,loadPointsRaceData:!0,pointsRaceData:Object.assign({},e.pointsRaceSettings)}),this.isDirty=!0,this.presets.lastActivatedPreset=-1},deletePreset(t){this.presetList=this.presetList.splice(t,1),this.$store.commit("persistPresetList"),this.presets.lastActivatedPreset=-1},activatePreset(t){const e=this.presetList[t];e.hasTimeRaceSettings&&this.$store.commit("setTimeRaceDataToWrite",{activateTimeRaceData:!0,loadTimeRaceData:!1,timeRaceData:Object.assign({},e.timeRaceSettings)}),e.hasPointsRaceSettings&&this.$store.commit("setPointsRaceDataToWrite",{activatePointsRaceData:!0,loadPointsRaceData:!1,pointsRaceData:Object.assign({},e.pointsRaceSettings)}),this.presets.lastActivatedPreset=t},showImportPresets(){this.showPresetImport=!0},showPresets(){this.showPresetData=!0},hidePresets(){this.showPresetData=!1,this.showPresetImport=!1},presetJsonImport(){this.showPresetImport=!1;var t=JSON.parse(this.presetImportData);t&&Array.isArray(t)&&(console.log("Will update preset List"),this.presetList=t)},cleanLocalStore(){localStorage.removeItem("store.displayControl.ticker"),localStorage.removeItem("store.displayControl.countdown"),localStorage.removeItem("store.displayControl.pointsRace"),localStorage.removeItem("store.displayControl.timeRace"),localStorage.removeItem("store.settings"),localStorage.removeItem("store.presets.presetList")}},beforeMount(){Object.assign(this.presets,this.$store.state.presets),this.isDirty=!1}}),Pt=Tt,kt=(s("87c5"),Object(c["a"])(Pt,bt,Ct,!1,null,"7f706d34",null)),xt=kt.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"preview"},[e("div",{staticClass:"preview-viz"},[e("Visualization")],1)])])])},$t=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"card-header notification is-success"},[e("p",{staticClass:"card-header-title"},[t._v(" Preview ")])])}],At={name:"Preview",components:{Visualization:J}},Nt=At,Lt=(s("2043"),Object(c["a"])(Nt,Dt,$t,!1,null,null,null)),Bt=Lt.exports,Wt={name:"Controller",components:{Settings:Y,TimeRaceSettings:at,CountdownSettings:dt,TickerSettings:vt,PointsRaceSettings:_t,Presets:xt,Preview:Bt}},Gt=Wt,It=(s("52ea"),Object(c["a"])(Gt,z,q,!1,null,"e270a11e",null)),Ot=It.exports;i["a"].use(h["a"]);const Et=[{path:"/vis",name:"Visualization",component:J},{path:"/",name:"Controller",component:Ot}],jt=new h["a"]({routes:Et});var Ut=jt,Ft=s("2f62"),Mt=s("bc3a"),Jt=s.n(Mt);function zt(t){var e=t.split(":");e=e.reverse();var s=0;return 0 in e&&(s+=parseFloat(e[0])),1 in e&&(s+=60*parseInt(e[1])),2 in e&&(s+=3600*parseInt(e[2])),s}i["a"].use(Ft["a"]);var qt=new Ft["a"].Store({state:{currentRace:{raceID:null,raceName:"",flagStatus:"",competitors:[],laptimes:[],startlist:[]},currentPointsRace:{ID:null,Name:"",Type:"",isPoints:!1,isElimination:!1,PointResults:[],Eliminations:[],FinishOrder:[],EliminationResults:[]},displayControl:{timeRace:{show:!0,showRefSpeed:!1,refSpeed:0,showRaceName:!0,showLapTimes:!0,showBestLapTimes:!1,numLapTimes:5,showRaceTime:!0,showLaps:!0,showSpeed:!0,styleWhiteBG:{raceName:!1,laps:!1,results:!1},showStartlist:!1,showResults:!1,resultsSortedByBestTime:!1,pauseRaceUpdate:!1},timeRaceFormData:{show:!0,showRefSpeed:!1,refSpeed:0,showRaceName:!0,showLapTimes:!0,numLapTimes:5,showRaceTime:!0,showLaps:!0,showSpeed:!0,styleWhiteBG:!1,showResults:!1,resultsSortedByBestTime:!1,pauseRaceUpdate:!1},pointsRace:{showPoints:!0,showElims:!0,styleWhiteBG:!1,numElimsToShow:15,showResults:!1,pausePointsUpdate:!1},pointsRaceFormData:{show:!0},countdown:{show:!0,targetTime:(new Date).toISOString().split("T")[0]+" 23:59",showLabel:!0,showSubText:!1,subText:""},ticker:{show:!0,line1:"",line2:"",styleWhiteBG:!1,laufschrift:!1},tickerFormData:{show:!0}},settings:{urlRaceService:"http://localhost:8090/race",urlPointsService:"http://localhost/punkterennen/race_status.php",pausePointsRaceUpdate:!1,lapDistance:.2,updateInterval:5e3,updateIntervalPoints:5e3},presets:{presetList:[],selectedPreset:-1,dataToWriteToTimeRaceController:{loadTimeRaceData:!1,activateTimeRaceData:!1,timeRaceData:{}},dataToWriteToPointsRaceController:{loadPointsRaceData:!1,activatePointsRaceData:!1,pointsRaceData:{}},dataToWriteToTickerController:{loadTickereData:!1,activateTickerData:!1,tickerData:{}}}},mutations:{setRace(t,e){console.log("Setting the race to "+e.raceName+" ("+e.elapsedTime+")");var s=t.currentRace.laptimes,i=t.currentRace.startlist;t.currentRace.raceID!==e.raceID&&(s=[]),t.currentRace=e;var a=e.elapsedTime.split(":");a=a.reverse();var r=0;0 in a&&(r+=parseInt(a[0])),1 in a&&(r+=60*parseInt(a[1])),2 in a&&(r+=3600*parseInt(a[2])),t.currentRace.elapsedSeconds=r,a=e.timeOfDay.split(":");var n=new Date;n.setHours(a[0]),n.setMinutes(a[1]),n.setSeconds(a[2]),n.setMilliseconds(0),t.currentRace.startTime=new Date(n.getTime()-1e3*t.currentRace.elapsedSeconds),t.currentRace.competitors.sort((t,e)=>t.position>e.position?1:-1);var o=t.currentRace.competitors[0];r>10&&void 0!==o&&o.lapsComplete>0&&(s[o.lapsComplete]={lap:o.lapsComplete,time:zt(o.lastLap)}),t.currentRace.laptimes=s,"PURPLE"===e.flagStatus&&(i=[],t.currentRace.competitors.forEach(t=>{i.push(Object.assign({},t))})),t.currentRace.startlist=i},setPointsRace(t,e){console.log("Setting the race to "+e.Name),t.currentPointsRace=e,t.currentPointsRace.Name=e.Race.Name,t.currentPointsRace.ID=e.Race.ID,t.currentPointsRace.Type=e.Race.Type,t.currentPointsRace.isPoints=String(e.Race.Type).search("Points")>=0,t.currentPointsRace.isElimination=String(e.Race.Type).search("Elimination")>=0,!0===t.displayControl.pointsRace.show&&null===t.currentRace.raceID&&(t.currentRace.raceName=e.Race.Name)},setSettings(t,e){Object.assign(t.settings,e)},setDisplayControlTimeRace(t,e){Object.assign(t.displayControl.timeRace,e)},setDisplayControlTimeRaceFormData(t,e){Object.assign(t.displayControl.timeRaceFormData,e)},setDisplayControlPointsRace(t,e){Object.assign(t.displayControl.pointsRace,e)},setDisplayControlPointsRaceFormData(t,e){Object.assign(t.displayControl.pointsRaceFormData,e)},setDisplayControlCountdown(t,e){Object.assign(t.displayControl.countdown,e)},setDisplayControlTicker(t,e){Object.assign(t.displayControl.ticker,e)},setDisplayControlTickerFormData(t,e){Object.assign(t.displayControl.ticker,e)},xxxupdateUrlRaceservice(t,e){t.settings.urlRaceService=e},loadStoreFromStorage(t){localStorage.getItem("store.settings")&&Object.assign(t.settings,JSON.parse(localStorage.getItem("store.settings"))),localStorage.getItem("store.displayControl.timeRace")&&Object.assign(t.displayControl.timeRace,JSON.parse(localStorage.getItem("store.displayControl.timeRace"))),localStorage.getItem("store.displayControl.pointsRace")&&Object.assign(t.displayControl.pointsRace,JSON.parse(localStorage.getItem("store.displayControl.pointsRace"))),localStorage.getItem("store.displayControl.countdown")&&Object.assign(t.displayControl.countdown,JSON.parse(localStorage.getItem("store.displayControl.countdown"))),localStorage.getItem("store.displayControl.ticker")&&Object.assign(t.displayControl.ticker,JSON.parse(localStorage.getItem("store.displayControl.ticker"))),localStorage.getItem("store.presets.presetList")&&(t.presets.presetList=JSON.parse(localStorage.getItem("store.presets.presetList")))},setPresetList(t,e){t.presets.presetList=e},persistPresetList(t){},resetTimeRaceDataToWrite(t){t.presets.dataToWriteToTimeRaceController.activateTimeRaceData=!1,t.presets.dataToWriteToTimeRaceController.loadTimeRaceData=!1,t.presets.dataToWriteToTimeRaceController.timeRaceData=null},setTimeRaceDataToWrite(t,e){t.presets.dataToWriteToTimeRaceController.timeRaceData=Object.assign({},e.timeRaceData),t.presets.dataToWriteToTimeRaceController.activateTimeRaceData=e.activateTimeRaceData,t.presets.dataToWriteToTimeRaceController.loadTimeRaceData=e.loadTimeRaceData},resetPointsRaceDataToWrite(t){t.presets.dataToWriteToPointsRaceController.activatePointsRaceData=!1,t.presets.dataToWriteToPointsRaceController.loadPointsRaceData=!1,t.presets.dataToWriteToPointsRaceController.pointsRaceData=null},setPointsRaceDataToWrite(t,e){t.presets.dataToWriteToPointsRaceController.pointsRaceData=Object.assign({},e.pointsRaceData),t.presets.dataToWriteToPointsRaceController.activatePointsRaceData=e.activatePointsRaceData,t.presets.dataToWriteToPointsRaceController.loadPointsRaceData=e.loadPointsRaceData}},actions:{updateRace(t){this.state.displayControl.timeRace.pauseRaceUpdate?console.log("Race update is paused"):(Jt.a.get(this.state.settings.urlRaceService).then(e=>t.commit("setRace",e.data)).catch(t=>{console.log(t),"undefined"===typeof t.response&&console.log("looks like redirect from call"),this.errored=!0}),this.state.settings.pausePointsRaceUpdate||Jt.a.get(this.state.settings.urlPointsService).then(e=>t.commit("setPointsRace",e.data)).catch(t=>{console.log(t),"undefined"===typeof t.response&&console.log("looks like redirect from call"),this.errored=!0}))}},modules:{}});i["a"].config.productionTip=!1,new i["a"]({router:Ut,store:qt,render:t=>t(d),beforeCreate(){this.$store.commit("loadStoreFromStorage"),this.$store.subscribe((t,e)=>{var s="";"setSettings"===t.type&&(s=JSON.stringify(e.settings),localStorage.setItem("store.settings",s)),"setDisplayControlTimeRace"===t.type&&(s=JSON.stringify(e.displayControl.timeRace),localStorage.setItem("store.displayControl.timeRace",s)),"setDisplayControlPointsRace"===t.type&&(s=JSON.stringify(e.displayControl.pointsRace),localStorage.setItem("store.displayControl.pointsRace",s)),"setDisplayControlCountdown"===t.type&&(s=JSON.stringify(e.displayControl.countdown),localStorage.setItem("store.displayControl.countdown",s)),"setDisplayControlTicker"===t.type&&(s=JSON.stringify(e.displayControl.ticker),localStorage.setItem("store.displayControl.ticker",s)),"persistPresetList"===t.type&&(s=JSON.stringify(e.presets.presetList),console.log("save preset list to store:"+s),localStorage.setItem("store.presets.presetList",s))})}}).$mount("#app")},"6dcb":function(t,e,s){"use strict";s("9b62")},"734a":function(t,e,s){"use strict";s("7530")},7530:function(t,e,s){},"814c":function(t,e,s){"use strict";s("f200")},8193:function(t,e,s){"use strict";s("2062")},8620:function(t,e,s){"use strict";s("5122")},"87c5":function(t,e,s){"use strict";s("2163")},"9b62":function(t,e,s){},a217:function(t,e,s){},dcd6:function(t,e,s){},e2ae:function(t,e,s){},f200:function(t,e,s){}});
//# sourceMappingURL=app.28dc785f.js.map